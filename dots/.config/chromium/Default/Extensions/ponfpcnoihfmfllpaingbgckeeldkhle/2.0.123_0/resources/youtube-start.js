/*
##
##  Enhancer for YouTube™
##  =====================
##
##  Author: Maxime RF <https://www.mrfdev.com>
##
##  This file is protected by copyright laws and international copyright
##  treaties, as well as other intellectual property laws and treaties.
##
##  All rights not expressly granted to you are retained by the author.
##  Read the license.txt file for more details.
##
##  © MRFDEV.com - All Rights Reserved
##
*/
(function(m,a){if(!m.efyt){var k=new URLSearchParams(a.currentScript.src.split("?")[1]),E=k.get("version"),B=k.get("resources");k="true"===k.get("incognito");function C(){var e=Date.now(),c=e+2592E6;try{b.defaultvolume&&(localStorage["yt-player-volume"]=sessionStorage["yt-player-volume"]=JSON.stringify({data:JSON.stringify({volume:b.volume,muted:!1}),creation:e,expiration:c})),b.selectquality&&(localStorage["yt-player-quality"]=JSON.stringify({data:b[0<location.href.indexOf("list=")?
"qualityplaylists":"qualityvideos"],creation:e,expiration:c})),b.disableautoplay&&(localStorage["yt.autonav::autonav_disabled"]=JSON.stringify({data:!0,creation:e,expiration:c}))}catch(g){}}function y(){z++;var e=a.querySelector("#c4-player");if(e)try{b.stopvideos?e.stopVideo():(e.playVideo(),e.pauseVideo(),e.querySelector(".ytp-spinner").style.display="none")}catch(c){}else 20>z&&(D=setTimeout(y,500))}function F(e){if(!n&&b.stopvideos&&1<=e&&3>=e){h.stopVideo();h.checkTimestamp=!0;try{h.style.backgroundImage=
"url(https://img.youtube.com/vi/"+h.getVideoData().video_id+"/maxresdefault.jpg)",h.style.backgroundSize="100% 100%",h.removeBackgroundImage=!0}catch(c){}}}function v(e){n=!0;a.removeEventListener("keydown",v,!0);a.removeEventListener("mousedown",w,!0)}function w(e){n=!0;a.removeEventListener("keydown",v,!0);a.removeEventListener("mousedown",w,!0)}a.documentElement.addEventListener("load",function g(c){let f,p;if(null==m?0:null==(f=m.yt)?0:null==(p=f.config_)?0:p.EXPERIMENT_FLAGS)m.yt.config_.EXPERIMENT_FLAGS.kevlar_watch_grid=
!1,a.documentElement.removeEventListener("load",g,!0)},!0);a.addEventListener("efyt-update-preferences",function(c){b=c.detail.prefs;C()});var n,D,z,h,x;try{var b=JSON.parse(localStorage.getItem("enhancer-for-youtube"))||{}}catch(c){b={},k||a.dispatchEvent(new Event("efyt-get-preferences"))}k&&a.dispatchEvent(new Event("efyt-get-preferences"));"undefined"===typeof b.blockautoplay&&(b.blockautoplay=!0);"undefined"===typeof b.pausevideos&&(b.pausevideos=!0);"undefined"===typeof b.ignoreplaylists&&(b.ignoreplaylists=
!0);b.customcolors||(b.customcolors={"--main-color":"#00adee","--main-background":"#111111","--second-background":"#181818","--hover-background":"#232323","--main-text":"#eff0f1","--dimmer-text":"#cccccc","--shadow":"#000000"});b.customcssrules||(b.customcssrules="");b.theme||(b.theme="default-dark");b.themevariant||(b.themevariant="youtube-deep-dark.css");b.qualityvideos||(b.qualityvideos="hd720");b.qualityplaylists||(b.qualityplaylists="hd720");b.volume||(b.volume=50);C();if(b.darktheme&&"default-dark"!==
b.theme){if("youtube-deep-dark"===b.theme){var l=a.createElement("link");l.id="efyt-theme-variables";l.rel="stylesheet";l.href=B+"/vendor/themes/"+b.themevariant}else if("youtube-deep-dark-custom"===b.theme){l=a.createElement("style");l.type="text/css";l.id="efyt-theme-variables";k=[];var A;for([A,q]of Object.entries(b.customcolors)){if("--shadow"===A){var r=q.replace("#","");var q=parseInt(r.substring(0,2),16);var G=parseInt(r.substring(2,4),16);r=parseInt(r.substring(4,6),16);q=`0 1px .5px rgba(${q}, ${G}, ${r}, .2)`}k.push(A+
":"+q)}l.textContent=":root{"+k.join(";")+"}"}var t=a.createElement("link");t.id="efyt-theme";t.rel="stylesheet";t.href=B+"/vendor/themes/youtube-deep-dark.material.css?v="+E;a.head?(a.head.appendChild(l),a.head.appendChild(t)):a.documentElement.addEventListener("load",function f(g){a.head&&(a.documentElement.removeEventListener("load",f,!0),a.head.appendChild(l),a.head.appendChild(t))},!0)}if("Google Inc."===navigator.vendor){var d=a.createElement("style");d.type="text/css";d.textContent="#movie_player div.ytp-chrome-controls button.ytp-pip-button.ytp-button{display: inline-block !important; transform: scaleY(-1)}";
a.head?a.head.appendChild(d):a.documentElement.addEventListener("load",function f(g){a.head&&(a.documentElement.removeEventListener("load",f,!0),a.head.appendChild(d))},!0)}b.customtheme&&(d=a.createElement("style"),d.type="text/css",d.id="efyt-custom-theme",d.textContent=b.customcssrules,a.head?a.head.appendChild(d):a.documentElement.addEventListener("load",function f(g){a.head&&(a.documentElement.removeEventListener("load",f,!0),a.head.appendChild(d))},!0));if(b.hidechat||b.hidecomments||b.hiderelated||
b.convertshorts||b.hideshorts)d=a.createElement("style"),d.type="text/css",d.id="test",d.textContent='html.efyt-hide-chat ytd-live-chat-frame, html.efyt-hide-comments ytd-item-section-renderer.ytd-comments, html.efyt-hide-comments #comment-teaser.ytd-watch-metadata, html.efyt-hide-comments ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-comments-section"], html.efyt-hide-related ytd-watch-next-secondary-results-renderer, html.efyt-hide-related #related-skeleton.ytd-watch-flexy, html.efyt-hide-related .html5-video-player .html5-endscreen {display: none !important; } html.efyt-convert-shorts ytd-guide-renderer.ytd-app ytd-guide-entry-renderer a[title="Shorts"], html.efyt-convert-shorts ytd-mini-guide-renderer.ytd-app ytd-mini-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts ytd-guide-renderer.ytd-app ytd-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts ytd-mini-guide-renderer.ytd-app ytd-mini-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts .efyt-is-short {display: none !important; } html.efyt-hide-shorts ytd-grid-video-renderer:has(ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-watch-next-secondary-results-renderer.ytd-watch-flexy ytd-compact-video-renderer:has(ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="home"] ytd-rich-section-renderer.ytd-rich-grid-renderer:has(ytd-rich-shelf-renderer[is-shorts]), html.efyt-hide-shorts ytd-browse[page-subtype="subscriptions"] ytd-rich-item-renderer.ytd-rich-grid-row:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="subscriptions"] ytd-item-section-renderer.ytd-section-list-renderer:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="subscriptions"] ytd-rich-section-renderer.ytd-rich-grid-renderer:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="trending"] ytd-video-renderer.ytd-expanded-shelf-contents-renderer:has(ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="trending"] ytd-item-section-renderer.ytd-section-list-renderer:has(ytd-reel-shelf-renderer yt-horizontal-list-renderer a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="channels"] ytd-item-section-renderer.ytd-section-list-renderer:has(ytd-reel-shelf-renderer yt-horizontal-list-renderer a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-search.ytd-page-manager ytd-reel-shelf-renderer.ytd-item-section-renderer:has(yt-horizontal-list-renderer a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-search.ytd-page-manager ytd-video-renderer.ytd-item-section-renderer:has(ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]) {display: none !important; }',
a.head?a.head.appendChild(d):a.documentElement.addEventListener("load",function f(g){a.head&&(a.documentElement.removeEventListener("load",f,!0),a.head.appendChild(d))},!0),b.hidechat&&a.documentElement.classList.add("efyt-hide-chat"),b.hidecomments&&a.documentElement.classList.add("efyt-hide-comments"),b.hiderelated&&a.documentElement.classList.add("efyt-hide-related"),b.convertshorts&&a.documentElement.classList.add("efyt-convert-shorts"),b.hideshorts&&a.documentElement.classList.add("efyt-hide-shorts");
var u="/watch"===location.pathname||/\/(v\/|clip\/|live$)/.test(location.pathname)?"watch":/^\/(user|channel|c\/)/.test(location.pathname)?"channel":"browse";a.addEventListener("yt-navigate-start",function(c){"channel"===c.detail.pageType||"watch"===c.detail.pageType?(a.addEventListener("keydown",v,!0),a.addEventListener("mousedown",w,!0),u=c.detail.pageType,n=!1):u=c.detail.pageType;clearTimeout(D)});a.addEventListener("yt-navigate-finish",function(c){"channel"===u&&(z=0,a.hidden?a.addEventListener("visibilitychange",
function f(){a.removeEventListener("visibilitychange",f);setTimeout(y,1E3)}):setTimeout(y,1E3))});HTMLVideoElement.prototype.play=function(c){return function(){x||(x=a.querySelector("yt-playlist-manager"));if(!n&&b.blockautoplay&&("watch"===u||"channel"===u||a.querySelector("ytd-app > ytd-miniplayer[active]"))&&(a.hidden||b.pauseforegroundtab)&&(x&&x.currentPlaylistData_&&!b.ignoreplaylists||0>location.href.indexOf("list=")||!b.ignoreplaylists)&&this.classList.contains("html5-main-video"))h=this.parentNode.parentNode,
b.pausevideos&&this.setAttribute("pausevideos",""),h.pauseVideo(),h.hasAttribute("onstatechange")||(h.setAttribute("onstatechange",""),h.addEventListener("onStateChange",F));else return c.apply(this,arguments)}}(HTMLVideoElement.prototype.play);m.MediaSource&&(MediaSource.isTypeSupported=function(c){return function(g){return b.blockhfrformats&&/framerate=([4-6]\d|\d{3,})/.test(g)||b.blockwebmformats&&/video\/webm/.test(g)?!1:c(g)}}(MediaSource.isTypeSupported));a.addEventListener("keydown",v,!0);
a.addEventListener("mousedown",w,!0);a.hidden||a.addEventListener("visibilitychange",function(){a.hidden&&(n=!0)},!0);a.addEventListener("DOMContentLoaded",function g(){a.removeEventListener("DOMContentLoaded",g);if(!m.Polymer&&"default-dark"!==b.theme){var f=a.head.querySelector("#efyt-theme-variables"),p=a.head.querySelector("#efyt-theme");p&&a.head.removeChild(p);f&&a.head.removeChild(f)}})}})(window,document);